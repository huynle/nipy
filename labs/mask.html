<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Neuroimaging in Python &#8212; NIPY Documentation</title>
    
    <link rel="stylesheet" href="../_static/nipy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.5.0.dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="nipy.labs.utils.mask.compute_mask" href="generated/nipy.labs.utils.mask.compute_mask.html" />
    <link rel="prev" title="NeuroSpin tools" href="index.html" />
  <meta name="keywords" content="nipy, neuroimaging, python, neuroscience, time
				 series">

  </head>
  <body role="document">
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
 <a href="../index.html">
  <img src="../_static/reggie2.png" alt="NIPY logo"  border="0" />
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="generated/nipy.labs.utils.mask.compute_mask.html" title="nipy.labs.utils.mask.compute_mask"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="NeuroSpin tools"
             accesskey="P">previous</a> |</li>
  <li><a href="../index.html">NIPY home</a> |&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../documentation.html" >NIPY documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">NeuroSpin tools</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

  
<h4> Site Navigation </h4>
  <ul>
    <li><a href="../documentation.html">Documentation</a></li>
    <li><a href="../devel/index.html">Development</a></li>
  </ul>

<h4> NIPY Community </h4>
  <ul class="simple">
    <li><a class="reference external"
	href="http://nipy.org/">Community Home</a></li>
    <li><a class="reference external"
	href="http://nipy.org/project-directory">NIPY Projects</a></li>
    <li><a class="reference external"
	href="https://mail.python.org/mailman/listinfo/neuroimaging">Mailing List</a></li>
    <li><a class="reference external"
	href="license.html">License</a></li>
  </ul>

<h4> Github repo </h4>
  <ul class="simple">
    <li><a class="reference external"
	href="http://github.com/nipy/nipy/">Nipy Github</a></li>
  </ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">NeuroSpin tools</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="generated/nipy.labs.utils.mask.compute_mask.html"
                        title="next chapter">nipy.labs.utils.mask.compute_mask</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/labs/mask.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>

<div id="searchbox-ml" style="display: none">
  <h3>Search mailing list archive</h3>
  <script type="text/javascript">
    function mlsearch(curobj)
    {
    curobj.q.value="site:http://mail.python.org/pipermail/neuroimaging/ "+curobj.userquery.value
    }
  </script>
  <form action="http://www.google.com/search" method="get" onSubmit="mlsearch(this)">
    <input name="userquery" size="13" type="text" /> <input type="submit" value="Go" />
    <input name="q" type="hidden" />
  </form>
</div>
  
<div id="searchbox-site" style="display: none">
  <h3>Search this site</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="13" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    </p>
</div>
<script type="text/javascript">$('#searchbox-ml').show(0);</script>
<script type="text/javascript">$('#searchbox-site').show(0);</script>


        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mask-extraction-utilities">
<h1>Mask-extraction utilities<a class="headerlink" href="#mask-extraction-utilities" title="Permalink to this headline">Â¶</a></h1>
<p>The module <code class="xref py py-mod docutils literal"><span class="pre">nipy.labs.utils.mask</span></code> contains utilities to extract
brain masks from fMRI data:</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="generated/nipy.labs.utils.mask.compute_mask.html#nipy.labs.utils.mask.compute_mask" title="nipy.labs.utils.mask.compute_mask"><code class="xref py py-obj docutils literal"><span class="pre">compute_mask</span></code></a>(mean_volume[,&nbsp;...])</td>
<td>Compute a mask file from fMRI data in 3D or 4D ndarrays.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="generated/nipy.labs.utils.mask.compute_mask_files.html#nipy.labs.utils.mask.compute_mask_files" title="nipy.labs.utils.mask.compute_mask_files"><code class="xref py py-obj docutils literal"><span class="pre">compute_mask_files</span></code></a>(input_filename[,&nbsp;...])</td>
<td>Compute a mask file from fMRI nifti file(s)

Compute and write the mask of an image based on the grey level
This is based on an heuristic proposed by T.Nichols:
find the least dense point of the histogram, between fractions
m and M of the total image histogram.

In case of failure, it is usually advisable to increase m.

:Parameters:

    <strong>input_filename</strong> : string

        nifti filename (4D) or list of filenames (3D).

    <strong>output_filename</strong> : string or None, optional

        path to save the output nifti image (if not None).

    <strong>return_mean</strong> : boolean, optional

        if True, and output_filename is None, return the mean image also, as
        a 3D array (2nd return argument).

    <strong>m</strong> : float, optional

        lower fraction of the histogram to be discarded.

    <strong>M: float, optional</strong>

        upper fraction of the histogram to be discarded.

    <strong>cc: boolean, optional</strong>

        if cc is True, only the largest connect component is kept.

    <strong>exclude_zeros: boolean, optional</strong>

        Consider zeros as missing values for the computation of the
        threshold. This option is useful if the images have been
        resliced with a large padding of zeros.

    <strong>opening: int, optional</strong>

        Size of the morphological opening performed as post-processing

:Returns:

    <strong>mask</strong> : 3D boolean array

        The brain mask

    <strong>mean_image</strong> : 3d ndarray, optional

        The main of all the images used to estimate the mask. Only
        provided if <cite>return_mean</cite> is True.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="generated/nipy.labs.utils.mask.compute_mask_sessions.html#nipy.labs.utils.mask.compute_mask_sessions" title="nipy.labs.utils.mask.compute_mask_sessions"><code class="xref py py-obj docutils literal"><span class="pre">compute_mask_sessions</span></code></a>(session_images[,&nbsp;m,&nbsp;...])</td>
<td>Compute a common mask for several sessions of fMRI data.</td>
</tr>
</tbody>
</table>
<p>The <a class="reference internal" href="generated/nipy.labs.utils.mask.compute_mask_files.html#nipy.labs.utils.mask.compute_mask_files" title="nipy.labs.utils.mask.compute_mask_files"><code class="xref py py-func docutils literal"><span class="pre">compute_mask_files()</span></code></a> and <a class="reference internal" href="generated/nipy.labs.utils.mask.compute_mask_sessions.html#nipy.labs.utils.mask.compute_mask_sessions" title="nipy.labs.utils.mask.compute_mask_sessions"><code class="xref py py-func docutils literal"><span class="pre">compute_mask_sessions()</span></code></a>
functions work with Nifti files rather than numpy ndarrays. This is
convenient to reduce memory pressure when working with long time series,
as there is no need to store the whole series in memory.</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="generated/nipy.labs.utils.mask.compute_mask.html" title="nipy.labs.utils.mask.compute_mask"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="NeuroSpin tools"
             >previous</a> |</li>
  <li><a href="../index.html">NIPY home</a> |&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../documentation.html" >NIPY documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >NeuroSpin tools</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2017, Neuroimaging in Python team.
      Last updated on Mar 17, 2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
  </body>
</html>